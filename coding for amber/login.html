<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login / Register / Forgot Password</title>
<!-- External CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="wrapper">
      <!-- Left side image -->
  <div class="image-box">
    <img src="https://amber-7q7.pages.dev/logo.jpg" alt="Side Image">
      </div>
  
      <!-- Right side form -->
      <div class="container">
        <div class="form-box">
          <!-- Login Form -->
          <form id="loginForm">
            <h2>Login</h2>
            <div class="input-group">
              <i class="fa fa-envelope"></i>
              <input type="email" id="loginEmail" placeholder="Email" required>
            </div>
            <div class="input-group">
              <i class="fa fa-lock"></i>
              <input type="password" id="loginPassword" placeholder="Password" required>
              <span class="toggle-password" onclick="togglePassword('loginPassword', this)">
                <i class="fa fa-eye"></i>
              </span>
            </div>

            <div class="options">
              <label><input type="checkbox" id="rememberMe" > Remember me</label>
              <a onclick="showForm('forgotForm')">Forgot password?</a>
            </div>
            <button type="submit">Login</button>
            <span class="link" onclick="showForm('registerForm')">Don‚Äôt have an account? Register</span>
  
            <!-- Google login -->
  <div id="g_id_onload"
       data-client_id="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com"
       data-context="signin"
       data-ux_mode="popup"
       data-callback="handleGoogleResponse"
       data-auto_prompt="false"></div>
  
  
  <div class="g_id_signin" data-type="standard"></div>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  
            <!-- Facebook login -->
             <a href="https://www.facebook.com/login.php" target="_blank">
            <button type="button" class="social-btn facebook-btn" onclick="facebookLogin()">
              <i class="fab fa-facebook-f"></i> Continue with Facebook
            </button>
             </a>
          </form>
  
          <!-- Register Form -->
          <form id="registerForm" class="hidden">
            <h2>Register</h2>
            <div class="input-group">
              <i class="fa fa-user"></i>
              <input type="text" placeholder="Username" required>
            </div>
            <div class="input-group">
              <i class="fa fa-envelope"></i>
              <input type="email" placeholder="Email" required>
            </div>
  <!-- Phone number input (full row) -->
  <div class="input-group">
    <i class="fa fa-phone"></i>
    <input type="tel" id="phoneNumber" placeholder="Phone Number" required>
  </div>
  
  <!-- OTP input + Send button in one row -->
  <div class="input-group otp-group">
    <i class="fa fa-key"></i>
    <input type="text" id="otpCode" placeholder="Enter OTP" required>
    <button type="button" class="otp-btn" onclick="sendOTP()">Send</button>
  </div>
  
  
            <div class="input-group">
              <i class="fa fa-lock"></i>
              <input type="password" id="registerPassword" placeholder="Password" required >
              <span class="toggle-password" onclick="togglePassword('registerPassword', this)">
                <i class="fa fa-eye"></i>
              </span>
            </div>
            <div class="input-group">
              <i class="fa fa-lock"></i>
              <input type="password" id="registerConfirmPassword" placeholder="Confirm Password" required>
              <span class="toggle-password" onclick="togglePassword('registerConfirmPassword', this)">
                <i class="fa fa-eye"></i>
              </span>
              </div>
              
            <button type="submit">Register</button>
            <span class="link" onclick="showForm('loginForm')">Back to Login</span>
          </form>
  
          <!-- Forgot Password Form -->
          <form id="forgotForm" class="hidden">
            <h2>Reset Password</h2>
            <div class="input-group">
              <i class="fa fa-envelope"></i>
              <input type="email" placeholder="Enter your email" required>
            </div>
            <button type="submit">Send Reset Link</button>
            <span class="link" onclick="showForm('loginForm')">Back to Login</span>
          </form>
        </div>
      </div>
    </div>
    <script>
  
      function sendOTP() {
    const phone = document.getElementById("phoneNumber").value;
    if (!phone) {
      alert("‚ùå Please enter your phone number first!");
      return;
    }
    alert("üì≤ OTP has been sent to " + phone);
  }
  
      // Switch forms
      function showForm(formId) {
        document.getElementById("loginForm").classList.add("hidden");
        document.getElementById("registerForm").classList.add("hidden");
        document.getElementById("forgotForm").classList.add("hidden");
        document.getElementById(formId).classList.remove("hidden");
      }
  
    function togglePassword(inputId, btn) {
      const input = document.getElementById(inputId);
      const icon = btn.querySelector('i');
      if (!input) return;
      if (input.type === 'password') {
        input.type = 'text';
        if (icon) { icon.classList.remove('fa-eye'); icon.classList.add('fa-eye-slash'); }
      } else {
        input.type = 'password';
        if (icon) { icon.classList.remove('fa-eye-slash'); icon.classList.add('fa-eye'); }
      }
    }
  
   
   // ‚úÖ Auto-fill + Auto-login only if saved before
  window.onload = function () {
    const savedEmail = localStorage.getItem("email");
    const savedPassword = localStorage.getItem("password");
  
    if (savedEmail && savedPassword) {
      // Fill values + keep checkbox ticked
      document.getElementById("loginEmail").value = savedEmail;
      document.getElementById("loginPassword").value = savedPassword;
      document.getElementById("rememberMe").checked = true;
  
      // ‚ö° Auto-login directly
      autoLogin(savedEmail, savedPassword);
    } else {
      // If nothing saved ‚Üí clear form + checkbox
      document.getElementById("loginEmail").value = "";
      document.getElementById("loginPassword").value = "";
      document.getElementById("rememberMe").checked = false;
    }
  };
  
  // ‚úÖ Handle normal login
  document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();
  
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;
    const remember = document.getElementById("rememberMe").checked;
  
    if (remember) {
      // Save login details ONLY if checkbox is ticked
      localStorage.setItem("email", email);
      localStorage.setItem("password", password);
    } else {
      // Clear saved login if checkbox not ticked
      localStorage.removeItem("email");
      localStorage.removeItem("password");
    }
  
    loginSuccess(email);
  });
  
  // ‚úÖ Auto-login function
  function autoLogin(email, password) {
    console.log("Auto-logged in with:", email, password);
    loginSuccess(email);
  }
  
  // ‚úÖ Common success action
  function loginSuccess(email) {
    alert("‚úÖ Logged in successfully as " + email + "!");
    // Example: redirect to dashboard
    // window.location.href = "dashboard.html";
  }
  
  // ‚úÖ Register form (demo)
  document.getElementById("registerForm").addEventListener("submit", function(e) {
    e.preventDefault();
    alert("‚úÖ Account registered!");
  });
  
  // ‚úÖ Forgot form (demo)
  document.getElementById("forgotForm").addEventListener("submit", function(e) {
    e.preventDefault();
    alert("üìß Password reset link sent to your email!");
  });
  
  
      // Demo form submissions
      document.getElementById("loginForm").addEventListener("submit", function(e) {
        e.preventDefault();
        alert("‚úÖ Logged in successfully!");
      });
      document.getElementById("registerForm").addEventListener("submit", function(e) {
        e.preventDefault();
        alert("‚úÖ Account registered!");
      });
      document.getElementById("forgotForm").addEventListener("submit", function(e) {
        e.preventDefault();
        alert("üìß Password reset link sent to your email!");
      });
  

      function handleGoogleResponse(response) {
  console.log("Google JWT Token: ", response.credential);
  alert("‚úÖ Logged in with Google!");
}
  
  // Facebook SDK init 
  window.fbAsyncInit = function() 
  { FB.init({ appId : 'YOUR_FACEBOOK_APP_ID',
   cookie : true,
    xfbml : true,
     version : 'v19.0'
   }); 
  }; 
  
  function facebookLogin() 
  { FB.login(function(response) { 
      if (response.authResponse) { 
          console.log('Facebook login success:', response);
           alert("‚úÖ Logged in with Facebook!");
           } else { 
              alert("‚ùå Facebook login cancelled!");
            } 
          }, {scope: 'public_profile,email'}); }
  
  </script>
  <!-- Facebook SDK -->
<script async defer crossorigin="anonymous" 
        src="https://connect.facebook.net/en_US/sdk.js"></script>
  </body> 
  </html>